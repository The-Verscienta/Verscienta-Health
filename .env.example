# =============================================================================
# Verscienta Health - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# =============================================================================
# Application
# =============================================================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
PAYLOAD_PUBLIC_SERVER_URL=http://localhost:3001

# =============================================================================
# Database (PostgreSQL 17+)
# =============================================================================
DATABASE_URL=postgresql://user:password@localhost:5432/verscienta_health

# For production, use connection pooling:
# DATABASE_URL=postgresql://user:password@host:5432/verscienta_health?pgbouncer=true&connection_limit=10

# Database provider (for encryption detection)
# Options: 'aws-rds', 'digitalocean', 'supabase', 'render', 'custom'
DATABASE_PROVIDER=custom

# =============================================================================
# Database Encryption at Rest (HIPAA ยง164.312(a)(2)(iv))
# =============================================================================
# If using cloud provider encryption (AWS RDS, DigitalOcean, Supabase, Render),
# leave DATABASE_ENCRYPTION_KEY empty. Cloud providers encrypt at disk level.
#
# If using self-hosted PostgreSQL or column-level encryption, generate a key:
# openssl rand -base64 32
DATABASE_ENCRYPTION_KEY=

# Optional: Use AWS KMS for key management (recommended for production)
# DATABASE_ENCRYPTION_KEY_ENCRYPTED=
# AWS_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

# =============================================================================
# Payload CMS
# =============================================================================
PAYLOAD_SECRET=your-super-secret-payload-key-change-this-in-production

# =============================================================================
# Authentication (better-auth)
# =============================================================================
BETTER_AUTH_SECRET=your-auth-secret-at-least-32-characters-long
BETTER_AUTH_URL=http://localhost:3000

# Legacy (if needed for compatibility):
# AUTH_SECRET=your-auth-secret-at-least-32-characters-long
# AUTH_URL=http://localhost:3000

# OAuth Providers (optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=

# =============================================================================
# Algolia Search
# =============================================================================
NEXT_PUBLIC_ALGOLIA_APP_ID=your-algolia-app-id
NEXT_PUBLIC_ALGOLIA_SEARCH_API_KEY=your-search-only-api-key
ALGOLIA_ADMIN_API_KEY=your-admin-api-key-keep-secret

# =============================================================================
# Cloudflare Images (R2 Storage)
# =============================================================================
CLOUDFLARE_ACCOUNT_ID=your-account-id
CLOUDFLARE_ACCESS_KEY_ID=your-access-key-id
CLOUDFLARE_SECRET_ACCESS_KEY=your-secret-access-key
CLOUDFLARE_BUCKET_NAME=verscienta-media
CLOUDFLARE_ACCOUNT_HASH=your-account-hash-for-image-urls

# For direct Cloudflare Images API (alternative to R2):
# CLOUDFLARE_IMAGES_API_TOKEN=

# =============================================================================
# Cloudflare Turnstile (CAPTCHA)
# =============================================================================
NEXT_PUBLIC_TURNSTILE_SITE_KEY=your-turnstile-site-key
TURNSTILE_SECRET_KEY=your-turnstile-secret-key

# =============================================================================
# Grok AI (xAI)
# =============================================================================
GROK_API_KEY=your-grok-api-key-from-x.ai

# Model selection (optional, defaults to grok-beta):
# GROK_MODEL=grok-beta

# =============================================================================
# Email (Resend)
# =============================================================================
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=noreply@verscienta.com

# =============================================================================
# Redis (Rate Limiting - Recommended for Production)
# =============================================================================
# Use Upstash Redis for serverless/distributed rate limiting
# Free tier: https://upstash.com/
REDIS_URL=
REDIS_TOKEN=

# Or use local Redis for development:
# REDIS_URL=redis://localhost:6379

# Legacy Upstash REST API (alternative):
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# =============================================================================
# Security & Audit Logging (HIPAA Compliance)
# =============================================================================
# Audit log external service (CloudWatch, Datadog, etc.)
AUDIT_LOG_ENDPOINT=
AUDIT_LOG_API_KEY=

# Security alerts (Slack webhook, PagerDuty, etc.)
SECURITY_ALERT_WEBHOOK=

# Session timeout settings (in seconds)
SESSION_TIMEOUT=86400  # 24 hours for general sessions
PHI_SESSION_TIMEOUT=900  # 15 minutes idle timeout for PHI pages

# MFA enforcement
REQUIRE_MFA_FOR_ADMIN=true
REQUIRE_MFA_FOR_PHI_ACCESS=false  # Recommended to enable in production

# =============================================================================
# Analytics & Monitoring
# =============================================================================
# Vercel Analytics (automatically enabled on Vercel)
# NEXT_PUBLIC_VERCEL_ANALYTICS_ID=

# Plausible Analytics (optional)
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN=verscienta.com

# Sentry (optional)
# SENTRY_DSN=
# SENTRY_AUTH_TOKEN=
# SENTRY_ORG=
# SENTRY_PROJECT=

# =============================================================================
# Mobile App Configuration
# =============================================================================
# Feature flags for mobile apps (iOS, Android, Windows)
MOBILE_OFFLINE_MODE=false
MOBILE_PUSH_NOTIFICATIONS=false

# Mobile app version requirements (for force update mechanism)
# MIN_SUPPORTED_APP_VERSION=1.0.0

# =============================================================================
# Image Optimization
# =============================================================================
# Enable Cloudflare Images for advanced optimization (optional)
CLOUDFLARE_IMAGES_ENABLED=false

# =============================================================================
# Feature Flags (Optional)
# =============================================================================
# ENABLE_AI_SYMPTOM_CHECKER=true
# ENABLE_PRACTITIONER_BOOKING=false
# ENABLE_E_COMMERCE=false
# ENABLE_DARK_MODE=true

# =============================================================================
# Development Tools
# =============================================================================
# Enable debug logging
# DEBUG=payload:*

# Disable telemetry
# NEXT_TELEMETRY_DISABLED=1

# =============================================================================
# CORS & Security
# =============================================================================
# Additional allowed origins for mobile apps and other clients (comma-separated)
# ALLOWED_CORS_ORIGINS=verscienta-app://,capacitor://localhost

# =============================================================================
# Production Settings (Set these in production only)
# =============================================================================
# NEXT_PUBLIC_APP_URL=https://verscienta.com
# PAYLOAD_PUBLIC_SERVER_URL=https://backend.verscienta.com
# NEXT_PUBLIC_WEB_URL=https://verscienta.com
# NEXT_PUBLIC_CMS_URL=https://backend.verscienta.com
# NODE_ENV=production

# Security headers
# ENFORCE_HTTPS=true
# ENABLE_CORS_WHITELIST=true
# ALLOWED_ORIGINS=https://verscienta.com,https://www.verscienta.com
