# =============================================================================
# Verscienta Health - Payload CMS Environment Variables
# =============================================================================

# Server Configuration
NODE_ENV=development
PORT=3001

# Payload CMS
PAYLOAD_SECRET=your-payload-secret-key-here-generate-a-secure-random-string
PAYLOAD_PUBLIC_SERVER_URL=http://localhost:3001

# Database (PostgreSQL 17+)
# Local development (no SSL)
DATABASE_URL=postgresql://user:password@localhost:5432/verscienta_health

# Production with SSL (REQUIRED for HIPAA compliance)
# DATABASE_URL=postgresql://user:password@host:5432/verscienta_health?sslmode=require

# Supabase (recommended - includes encryption at rest, SSL, backups)
# DATABASE_URL=postgresql://postgres.xxxxx:password@aws-0-us-east-1.pooler.supabase.com:6543/postgres?sslmode=require&pgbouncer=true

# SSL Certificate Configuration (when sslmode=require)
# Option 1: Provide certificate content directly (recommended for Coolify)
# DATABASE_SSL_CERT=-----BEGIN CERTIFICATE-----\nMIID...\n-----END CERTIFICATE-----

# Option 2: Provide path to certificate file (if mounted as volume)
# DATABASE_SSL_CA_PATH=/var/lib/postgresql/certs/server.crt

# Option 3: Default path (if not specified above)
# Defaults to: /var/lib/postgresql/certs/server.crt

# Database provider (for encryption detection)
# Options: 'aws-rds', 'digitalocean', 'supabase', 'render', 'custom'
DATABASE_PROVIDER=custom

# Database Encryption at Rest (HIPAA Compliance - optional for self-hosted)
# Generate with: openssl rand -base64 32
# If using cloud provider encryption, leave empty
DATABASE_ENCRYPTION_KEY=

# Connection Pool Settings (optional - defaults in payload.config.ts)
# DB_POOL_MAX=20
# DB_POOL_MIN=5
# DB_POOL_IDLE_TIMEOUT=30000

# Frontend URL (for CORS) - Uses NEXT_PUBLIC_APP_URL
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Algolia Search (for syncing)
ALGOLIA_APP_ID=your-algolia-app-id
ALGOLIA_ADMIN_API_KEY=your-algolia-admin-api-key

# Cloudflare R2 Storage (S3-compatible - for @payloadcms/storage-s3)
CLOUDFLARE_ACCOUNT_ID=your-cloudflare-account-id
CLOUDFLARE_ACCESS_KEY_ID=your-access-key-id
CLOUDFLARE_SECRET_ACCESS_KEY=your-secret-access-key
CLOUDFLARE_BUCKET_NAME=verscienta-media
CLOUDFLARE_ACCOUNT_HASH=your-account-hash-for-image-urls

# OpenStreetMap Nominatim (for geocoding)
# No API key required, but add User-Agent header
NOMINATIM_USER_AGENT=Verscienta Health App

# Trefle API (for plant data import - optional)
# Get your API key at https://trefle.io
TREFLE_API_KEY=your-trefle-api-key-here

# Email Service (Resend - for cron job notifications)
RESEND_API_KEY=re_your_resend_api_key_here
RESEND_FROM_EMAIL=noreply@verscienta.com

# Development Tools
# DEBUG=payload:*
